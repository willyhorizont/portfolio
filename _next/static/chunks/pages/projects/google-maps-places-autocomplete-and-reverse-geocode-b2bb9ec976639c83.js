(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{8481:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/google-maps-places-autocomplete-and-reverse-geocode",function(){return r(5845)}])},608:function(e,t,r){"use strict";var l=r(5893),o=r(6336),s=function(e){var t=e.children;return(0,l.jsx)("main",{style:{minHeight:"100vh",padding:"4rem 0",flex:1,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,l.jsx)(o.Z,{maxWidth:"lg",children:t})})};t.Z=s},3188:function(e,t,r){"use strict";r.d(t,{Ay:function(){return o},GW:function(){return l},Gy:function(){return s}});var l="/portfolio",o={lat:-2.473888688444448,lng:117.88879998609853},s={south:-22.667232559414682,west:85.06165154859853,north:18.02837509829607,east:150.71594842359852}},5845:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var l,o=r(7568),s=r(655),i=r(5893),n=r(9008),a=r.n(n),c=r(7294),u=r(7462),d=r(3366),p=r(6010),y=r(9731),h=r(6523),f=r(9707),m=r(9718);let g=["className","component"];var T=r(7078),v=r(9762);let b=(0,v.Z)(),x=function(e={}){let{defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:l,styleFunctionSx:o=h.Z}=e,s=(0,y.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(o),n=c.forwardRef(function(e,o){let n=(0,m.Z)(t),a=(0,f.Z)(e),{className:c,component:y="div"}=a,h=(0,d.Z)(a,g);return(0,i.jsx)(s,(0,u.Z)({as:y,ref:o,className:(0,p.Z)(c,l?l(r):r),theme:n},h))});return n}({defaultTheme:b,defaultClassName:"MuiBox-root",generateClassName:T.Z.generate});var k=r(4874),w=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((l=t.length)!=r.length)return!1;for(o=l;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((l=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=l;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=l;0!=o--;){var l,o,s,i=s[o];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r};let I="__googleMapsScriptId";(C=l||(l={}))[C.INITIALIZED=0]="INITIALIZED",C[C.LOADING=1]="LOADING",C[C.SUCCESS=2]="SUCCESS",C[C.FAILURE=3]="FAILURE";class S{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:l,id:o=I,language:s,libraries:i=[],mapIds:n,nonce:a,region:c,retries:u=3,url:d="https://maps.googleapis.com/maps/api/js",version:p}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=l,this.id=o||I,this.language=s,this.libraries=i,this.mapIds=n,this.nonce=a,this.region=c,this.retries=u,this.url=d,this.version=p,S.instance){if(!w(this.options,S.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(S.instance.options)}`);return S.instance}S.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?l.FAILURE:this.done?l.SUCCESS:this.loading?l.LOADING:l.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id)){this.callback();return}let e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){let t=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var C,E={night:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],retro:[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}]},_=r(3188),j=r(608),L=new S({apiKey:"AIzaSyAraptFbVXN4LZi66o7tDbrvEti1a8gVeo",language:"id-ID",version:"weekly",libraries:["places"]}),A=function(){var e=(0,c.useState)(null),t=e[0],r=e[1],l=(0,c.useState)(null),n=l[0],u=l[1],d=(0,c.useState)(null),p=d[0],y=d[1],h=(0,c.useState)(null),f=h[0],m=h[1],g=(0,c.useState)(null),T=g[0],v=g[1],b=(0,c.useRef)(null),w=(0,c.useRef)();return(0,c.useEffect)(function(){return L.load().then(function(e){return r(e)}).catch(function(e){return alert("Gagal memuat google maps karena: ",e)}),function(){return r(null)}},[]),(0,c.useEffect)(function(){if(null!==t&&null!==w.current&&null!==b.current)return u(new t.maps.Map(w.current,{center:_.Ay,zoom:4,mapTypeControl:!1,disableDefaultUI:!0,mapTypeId:"roadmap",styles:E.night,gestureHandling:"greedy",restriction:{latLngBounds:_.Gy,strictBounds:!1}})),y(new t.maps.Marker),m(new t.maps.Geocoder),v(new t.maps.places.Autocomplete(b.current,{componentRestrictions:{country:"id"}})),function(){u(null),y(null),m(null),v(null)}},[t,w.current,b.current]),(0,c.useEffect)(function(){if(null!==n&&null!==p&&null!==f&&null!==T){T.bindTo("bounds",n);var e,r=T.addListener("place_changed",function(){var e,t,r,l,o,s,i=T.getPlace();if(!(null==i?void 0:i.geometry)||!(null==i?void 0:null===(e=i.geometry)||void 0===e?void 0:e.location)){alert("Tidak ada detail tersedia untuk: ".concat(null==i?void 0:i.name));return}(null==i?void 0:null===(t=i.geometry)||void 0===t?void 0:t.viewport)&&n.fitBounds(null==i?void 0:null===(r=i.geometry)||void 0===r?void 0:r.viewport),n.setCenter(null==i?void 0:null===(l=i.geometry)||void 0===l?void 0:l.location),p.setMap(n),p.setPosition(null==i?void 0:null===(o=i.geometry)||void 0===o?void 0:o.location),n.panTo(null==i?void 0:null===(s=i.geometry)||void 0===s?void 0:s.location),console.log("autocomplete result:",i)}),l=n.addListener("click",(e=(0,o.Z)(function(e){var t,r,l,o,i,a,c;return(0,s.__generator)(this,function(s){switch(s.label){case 0:l=null==e?void 0:null===(t=e.latLng)||void 0===t?void 0:null===(r=t.toJSON)||void 0===r?void 0:r.call(t),n.setCenter(l),p.setMap(n),p.setPosition(l),n.panTo(l),console.log("clicked location:",l),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,f.geocode({location:l})];case 2:return a=null==(i=s.sent())?void 0:null===(o=i.results)||void 0===o?void 0:o[0],console.log("geocode result:",a),[3,4];case 3:return alert("Gagal reverse geocode karena:: ",null==(c=s.sent())?void 0:c.message),[3,4];case 4:return[2]}})}),function(t){return e.apply(this,arguments)})),i=p.addListener("click",function(){return p.setMap(null)});return function(){t&&(t.maps.event.removeListener(r),t.maps.event.removeListener(l),t.maps.event.removeListener(i))}}},[n,p,f,T]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a(),{children:[(0,i.jsx)("title",{children:"File Url To Base64"}),(0,i.jsx)("meta",{name:"description",content:"file url string to base64 string"}),(0,i.jsx)("link",{rel:"icon",href:"".concat(_.GW,"/favicon.ico")})]}),(0,i.jsx)(j.Z,{children:(0,i.jsxs)(x,{sx:{display:"flex",position:"relative"},children:[(0,i.jsx)(k.Z,{inputRef:b,sx:{zIndex:1,borderRadius:"8px",flexGrow:1,width:"calc(100% - 16px)",position:"absolute",top:"8px",left:0,right:0,margin:"0 auto",backgroundColor:"black"},inputProps:{style:{fontSize:"1.6rem",padding:"4px",borderRadius:"8px",color:"white"}},placeholder:"Masukkan Alamat",type:"text",variant:"outlined",autoComplete:"false"}),(0,i.jsx)("div",{className:"map",style:{height:"70vh",width:"100%",borderRadius:"8px",border:"1px solid",borderColor:"divider"},ref:w})]})})]})}},7568:function(e,t,r){"use strict";function l(e,t,r,l,o,s,i){try{var n=e[s](i),a=n.value}catch(c){r(c);return}n.done?t(a):Promise.resolve(a).then(l,o)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(o,s){var i=e.apply(t,r);function n(e){l(i,o,s,n,a,"next",e)}function a(e){l(i,o,s,n,a,"throw",e)}n(void 0)})}}r.d(t,{Z:function(){return o}})}},function(e){e.O(0,[453,774,888,179],function(){return e(e.s=8481)}),_N_E=e.O()}]);